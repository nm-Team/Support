# 归档的 nmBot 更新日志

> 此处记录 2023 年 1 月 10 日前的 nmBot 更新日志。2023 年 1 月 10 日后的 nmBot 更新日志将按版本归档。

## 2023 年 1 月 9 日 13:50
- 修复了特定情况下进入 nmBot 面板时基于 URL 的页面导航失效的问题。
- 修复了特定情况下网页验证的验证码模块加载失败的问题。

## 2022 年 12 月 25 日 23:00
- 修复了特定情况下 nmartChat 的部分功能与部分指令或链接冲突的问题。
- 修复了调试群组日志的部分输出内容解析错误的问题。
- 处理骚扰举报时支持查看举报文件。

## 2022 年 12 月 21 日 18:05
- 在 nmBot 面板搜索群组时支持搜索群组 ID。
- 在 nmBot 面板搜索群组时，若搜索不到结果，将显示相应提示。
- 修复了 nmBot 面板“消息限制与智能识别”设置集内部分元素触发错误的点击事件的问题。
- 修复了 nmBot 面板关键词回复编辑页面中部分 Telegram 链接无法在 nmBot 面板内置浏览器中打开的问题。

## 2022 年 12 月 19 日 02:50
- nmBot 面板新增“往期活动”页面和相关提示文本。nmBot 面板已结束的往期活动将归档到“往期活动”页面。
- 移除了“世界杯竞猜王”活动入口在群组列表页面、积分页面的显示，并归档到“往期活动”页面。

## 2022 年 12 月 19 日 02:07
- 移除了 nmBot 签到返回消息中与限时活动“世界杯竞猜王”相关的提示。
- 修复了特定情况下 nmBot 入群验证失败消息后错误出现 undefined 字样的问题。

## 2022 年 12 月 16 日 23:23
- 优化了活动“世界杯竞猜王”内的部分显示效果。

## 2022 年 12 月 16 日 18:31
- 使用 /spam 指令举报用户时支持在空格后输入举报原因。
- /id 功能支持返回群组话题功能的相关参数。
- 管理员举报用户骚扰但群组未启用对应拦截功能时，在返回消息中添加了相关提示。
- 在 nmBot 欢迎消息中添加了针对群组管理员初次使用时可能遇到的常见问题的相关问答。
- 支持通过行内消息发送指令。
- 优化了 nmartChat 对部分文本的识别能力。
- 优化了调试群组的记录信息。
- 调整了 nmartChat 的部分回复文本。 
- 修复了部分触发 nmartChat 的情形未被正常计入操作间隔的问题。
- 修复了管理员举报用户消息的文件未正常识别的问题。
- 修复了特定情况下，/ts 功能转换的贴纸高度大于 512 的问题。
- 修复了 /id 功能的返回消息中部分内容的排版错误。
- 修复了 /id 功能的返回消息中错误显示话题创建消息的问题。
- nmBot 将不再重复导入已有的骚扰信息。
- nmBot 管理端支持识别用户举报骚扰消息的类型。
- 优化了 nmBot 管理端处理用户骚扰消息举报的相关功能。
- nmBot 管理端支持向特定用户推送消息。

## 2022 年 12 月 13 日 10:55
- 修复了 nmBot 生成会员卡的底图大小错误的问题，并为受影响用户清空了既有会员卡。受影响用户重新获取会员卡即可。

## 2022 年 12 月 12 日 16:50
- 入群验证新增自动封禁骚扰用户功能：nmBot 将验证入群用户的名称和 ID，若识别为骚扰用户，将自动封禁该用户。群组管理员也可以选择解除封禁并加入白名单；加入白名单后，在该群组将不再封禁该用户入群。
- 新增删除消息，封禁用户并举报骚扰功能：群组管理员可回复特定消息或提供用户 ID 发送 /spam 指令，这将封禁该用户，尽可能删除该用户的消息，并将该用户的基本信息和消息内容发送至 nmBot。nmBot 团队确认举报是否属实后，将向群组管理员发送确认信息。
- 新增“智能识别并删除骚扰消息”功能：群组管理员可以自定义启用部分过滤方案；通过群组的实际需求在群组中删除被启用的过滤方案识别的消息，并可设置封禁发送消息的用户。若用户被封禁且启用了封禁提示，群组管理员也可设置将用户加入群组白名单；加入群组白名单的用户将不再被 nmBot 封禁。该功能目前支持识别 @ADGoawayBot 标记有既往史的用户和 nmBot 反骚扰系统认定为骚扰的消息；后续将支持更多类型。
- 与 @ADGoawayBot 合作推出“智能识别并删除骚扰消息”识别 @ADGoawayBot 标记有既往史的用户功能：用户在 @ADGoawayBot 处被记录发送骚扰消息达到一定次数时，若在“智能识别并删除骚扰消息”处启用删除或封禁 @ADGoawayBot 标记有既往史的用户，nmBot 将按照设置删除或删除并封禁该用户。 * @ADGoawayBot 为第三方服务，若对其提供的骚扰消息发送次数有任何疑问，请咨询该服务的提供方；nmBot 不会将发送消息的群组和具体消息内容提供给该服务的提供方；骚扰消息发送次数将在一段时间内同步；该功能的可用性在后续更新中可能根据实际情况发生变化。
- （Beta 版）新增“图片转贴纸”功能：可以使用 /ts (/tosticker) 指令将图片转换为贴纸，并可以通过行内按钮快速转发到其他对话或转发给 @Stickers 等贴纸包机器人。
- 新增“Telegram 会员卡”功能：Telegram 会员可以通过 /pc (/premiumcard) 指令生成并分享自己的 Telegram 会员卡。
- （Beta 版）新增“过塑”功能：可以使用 /yvlu (/quote) 指令将消息过塑为贴纸。我们仍在处理此功能，所以你可能会遇到一些异常；该功能当前仅适用于纯文本消息。
- 新增“获取消息基本信息”功能，可返回当前消息和回复的消息的基本信息。该功能可使用 /id 指令调用；为避免冲突，我们将原获取消息 JSON 功能的调用指令调整为 /json。
- nmartChat 功能新增对更多含“nm”消息内容的识别和返回消息能力。
- 新增“调试群组”功能：若群组管理员认为 nmBot 在群组的表现存在异常，可以联系 nmTeam 支持团队；若异常需要进一步排查，nmTeam 支持团队在获得群组管理员许可后，将把群组列为调试群组，输出调试日志来方便定位具体问题。
- 为避免用户分享链接导致会话泄露，用户通过按钮在浏览器打开 nmBot 面板后，验证 ID 将自动从 URL 中隐藏，并保存在浏览器中。
- 调整了 nmBot /config 菜单和 nmBot 面板群组设置菜单的项目。
    - 新增设置集“消息限制与智能识别”。
    - 设置集“自动删除消息”更名为“设置禁止发送的消息类别”，并调整到设置集“消息限制与智能识别”内。
    - 设置集“消息限制与智能识别”新增“智能识别并删除骚扰消息”设置集。
    - 设置集“入群验证”新增“自动拒绝骚扰用户入群”设置项。
    - 将 /config 菜单关闭按钮的文本调整为“关闭设置菜单”。
- 调整 nmBot 面板“消息限制与智能识别”设置集内关于 nmBot 锁定模式提示的形式为普通提示文本。
- 更新了 nmartChat 功能的部分文本。
- 调整 nmBot 签到回复消息在群组中的自动删除时间为 15 秒。同时，若 nmBot 在群组中有相应权限，用户发送的签到消息将被同时删除。（为兼容其他机器人指令，nmBot 仅删除明确提及 nmBot 的消息。）
- 调整 nmBot 入群验证的失败消息，新增了 nmBot 用户 ID 标签指示。
- nmBot 在群组中发送消息时，若因找不到默认话题而发送失败，将在群组中发送提示并重置默认话题设置。
- 优化了活动“世界杯竞猜王”入口的显示效果。
- 精简了 nmBot 运行日志内容。
- 修复了在 nmBot 面板配置群组功能时，部分错误提示的本地化设置出错的问题。
- 修复了 nmBot 入群验证的验证用户被群组管理员拒绝入群或验证失败时，入群验证失败提示消息的消息文本空格数量不正确的问题。
- 修复了 nmBot 入群验证的验证用户被群组管理员拒绝入群或验证失败时，超出群组设定的验证时间后，入群验证失败提示消息被再次异常编辑为验证超时，并可能导致用户再次被封禁的问题。
- 修复了 nmBot 入群验证的验证失败消息未正确在一段时间后自动删除的问题。
- 修复了启用“频道透视眼”功能后 /id 和 /json 功能返回的信息中身份可能错误的问题。
- 修复了群组禁用 nmartChat 功能后，nmBot 部分功能无响应的问题。
- 修复了 nmBot 部分消息的关闭行内按钮权限设置错误，仅能被群组管理员点击关闭的问题。
- 删除了 nmBot 的 /about, /site 指令。

## 2022 年 12 月 6 日 23:15
- 修复了特定情况下 nmBot 未正常发送入群欢迎消息的问题。

## 2022 年 11 月 29 日 23:03
- 限时活动“世界杯竞猜王”现在 nmBot 面板入口页面展示。
- 在 nmBot 签到返回消息中增加了与限时活动“世界杯竞猜王”相关的提示。
- 调整了活动“世界杯竞猜王”中“活动说明”按钮的大小。

## 2022 年 11 月 29 日 22:00
- 限时活动“世界杯竞猜王”上线：世界杯期间，在 nmBot 面板参与竞猜赢取积分。活动详情请见公告和 nmBot 面板活动页面。
- 修复了 nmBot 面板中部分积分历史记录文本显示错误的问题。

## 2022 年 11 月 28 日 20:45
- 为避免对群组正常聊天造成影响，群组中的 nmBot 签到消息将在 60 秒后自动删除。
- 修复 nmBot 面板的积分相关功能和网页入群验证功能在面板通过 Telegram Web App 打开时无法正常加载的问题。
- 修复 nmBot 面板“关键词回复”页面关键词回复概览中部分文本未正常显示的问题。

## 2022 年 11 月 26 日 19:23
- 调整了 /mc, /sign 指令返回文本的排版，以减少对群组消息连贯性的影响。

## 2022 年 11 月 26 日 19:00
- nmBot 新增指令 /mc, /mycredit 查询自己的积分。
- nmBot 新增指令 /hey, /sign, /checkin 每日签到获取积分。
- nmBot 面板新增“积分”板块，支持每日签到、查询最近 500 条积分记录、查看积分活动。
- 修复了特定情况下可在 nmBot 面板打开多个名片编辑器的问题。
- 修复了 nmBot 面板内置浏览器的部分操作文本未本地化的问题。

## 2022 年 11 月 24 日 17:55
- 更新了后续功能的所需资源。

## 2022 年 11 月 19 日 23:00
- 更新了群组邀请 nmBot 时，nmBot 发送的帮助内容。
- “群友互动”功能新增参数：$date (插入当前日期), $time (插入当前时间), $bot (插入 nmBot 信息), $space (插入空格), $hidefrom ($hf, 隐藏默认位置的互动来源), $hideto ($hidetarget, $ht, 隐藏默认位置的互动目标), $hideexclamation ($he, 隐藏感叹号), $hidele ($hl, 隐藏“了”)。
- 使用“群友互动”功能时，若“了”字前为英文字符或数字，则在“了”字前自动添加一个空格。
- 使用“群友互动”功能时，若句末为部分标点符号，则隐藏感叹号。
- 使用“群友互动”功能时，若应用目标前最后一个字符为“了”，则隐藏原有的“了”。
- 群组邀请 nmBot 时将自动为所有管理员注册 nmBot 面板。
- 支持通过 /doc 指令打开 nmBot 帮助文档。
- 优化了“群友互动”功能对英文句首 $ 和 $ 指令识别的准确率。
- 修正在 /config 发送消息文本中 nmBot 面板仍描述为 Beta 版的错误，并更新了部分文本。
- 删除“频道透视眼”中的部分过时描述。
- 删除了 nmBot 的部分未使用代码。

## 2022 年 11 月 19 日 00:56
- 修正未启用 nmBot 管理功能时“群友互动”功能无法使用的问题。

## 2022 年 11 月 19 日 00:53
- 修正“群友互动”功能中含有频道身份时，nmBot 发送的互动消息可能错误显示频道链接预览的问题。

## 2022 年 11 月 19 日 00:43
- 修正 nmBot /config 面板中部分按钮排版错误的问题。

## 2022 年 11 月 19 日 00:03
- 新增群组娱乐功能“群友互动”：在群组中使用以 / 或 、 开头的指令，以 nmBot 为桥梁与群友进行友好的互动。我们借鉴了其他 Telegram 机器人的相关功能，但 nmBot 支持频道身份参与互动，并支持在频道评论区和启用话题功能的群组使用。“群友互动”功能将默认关闭，并可在 nmBot /config 菜单和 nmBot 面板开启。
- nmBot 在广播通知消息时支持筛选群组。
- 为优化性能，删除了旧版入群验证的相关代码。
- 优化了群名称含有部分特殊字符时部分功能的表现。
- 修复了通过 /vt 指令设置 nmBot 入群验证时间时，设置可能未实时应用的问题。
- 修复了 nmBot 对用户、频道和群组名称的部分解析问题。
- 修复了 nmBot 面板单行双按钮组左右两个按钮的宽度不一致的问题。
- 修复了部分 nmBot 管理员功能无法使用的问题。

## 2022 年 11 月 17 日 01:53
- 优化了 nmBot 遇到部分错误时崩溃的问题。

## 2022 年 11 月 16 日 22:22
- nmBot 面板新增多语言支持。nmBot 面板将自动匹配浏览器或 Telegram 语言；用户可以在“我的”页面切换语言。
- nmBot 面板新增语言：繁体中文、英语。
- 根据多语言适配需要，调整了 nmBot 面板中部分元素的位置和大小。
- 优化了 nmBot 面板简体中文的部分文本。
- 优化了 nmBot 面板部分报错的显示内容。
- 修正了 nmBot 面板“管理群组”选项组中，“锁定模式”仍被标注为 Beta 版的问题。

## 2022 年 11 月 14 日 20:10
- 修复了“入群验证”在特定群组中，因群组名称含特殊字符而无法发送入群验证消息时，发送备份验证仍然失败的问题。
- 修复了 11 月 6 日起“欢乐复读”功能在特定情况下表现错误的问题。
- 关闭了部分 nmBot 面向用户的报错。

## 2022 年 11 月 10 日 21:33
- 入群验证失败时，新增“重试”按钮。
- 修复了 reCaptcha JavaScript 加载失败时，入群验证流程卡死的问题。

## 2022 年 11 月 10 日 21:16
- 修复了没有在 nmBot 面板注册过管理群组的用户打开 nmBot 面板时，页面内 URL 导航不生效的问题。

## 2022 年 11 月 10 日 21:00
- 新增入群验证方式“网页验证 (Beta)”：在 nmBot 面板通过人机身份验证来完成入群验证。
- nmBot 面板支持通过行内按钮在浏览器打开并自动完成登录；在 /panel 指令中也加入了相应按钮和提示。
- nmBot 面板新增对渐进式网络应用程序 (Progressive Web Apps) 的支持：可以在浏览器中将 nmBot 面板添加为应用。
- nmBot 面板新增“群组信息”功能：可以查看并拷贝群组的名称、ID、用户名和邀请 nmBot 的时间。
- 修复了部分在昵称中插入了特殊字符的用户在进行入群验证时，发送验证消息失败后备用措施不起作用的问题。
- 修复了没有当前有效 nmBot 面板注册管理群组的用户打开 nmBot 面板时，页面内 URL 导航不生效的问题。
- 修复了 nmBot 面板中部分“了解如何添加群组”按钮指向链接错误的问题。
- 修复了双屏模式下 nmBot 面板“管理”和“我的”页面在切换时动画效果不正确的问题。

## 2022 年 11 月 8 日 15:24
- 优化了 nmBot 入群验证针对新成员特殊名称导致错误的解决方案。

## 2022 年 11 月 7 日 20:23
- 修复了 nmBot 入群验证为被邀请用户提供验证时长错误的问题。

## 2022 年 11 月 7 日 20:11
- 修复了 nmBot 入群验证未正确判断用户是否被邀请的问题。

## 2022 年 11 月 7 日 19:53
- 修复了使用 /dt 指令设置默认话题后，设置未立即生效的问题。

## 2022 年 11 月 7 日 19:41
- 修复了 nmBot 在关闭入群验证的群组提示“群组的入群验证配置存在问题”，并可能错误禁言成员的问题。

## 2022 年 11 月 7 日 19:31
- 修复了在 nmBot /config 菜单中无法将入群验证设置为“关闭”的问题。

## 2022 年 11 月 7 日 19:23
- 对 nmBot 入群验证功能进行全新升级。
    - 重构的入群验证结构与逻辑提升了功能流畅度和稳定性。
    - 支持自定义入群验证允许的时间范围（被邀请入群的用户除外）。
    - 群组管理员邀请的用户和机器人将无需手动验证直接通过验证。
    - 新成员验证失败后，可以选择永久封禁或临时封禁。
    - * 新成员验证失败后验证消息自动删除功能将于今年稍晚时候通过静默更新推出。
- 已在 nmBot /config 面板中将“加群验证”更改为“入群验证”。
- nmBot 将不会对机器人发送入群欢迎。
- 在 nmBot /config 面板设置入群验证时，更改配置后不再自动返回主菜单。
- 优化 nmBot 面板“入群验证”设置中关于设置验证频道的帮助文本。

## 2022 年 11 月 7 日 15:02
- 同步 nmBot Bot API 依赖版本到最新版。
- 支持在 /id 中显示 entities 信息。
- 修复了在启用话题功能的群组中，若多个话题内同时出现新消息，“欢乐复读”功能表现异常的问题：“欢乐复读”功能将识别不同话题并单独判断是否复读。

## 2022 年 11 月 7 日 0:29
- 修复了在启用话题功能的群组中“欢乐复读”功能无法正确复读转发消息的问题。

## 2022 年 11 月 7 日 0:21
- 针对启用话题功能的群组支持使用 /dt 指令设置默认话题。更新后，启用话题功能的群组中第一条新消息的话题将被设置为默认话题。
- 修复了 nmBot 入群验证和入群欢迎功能在启用话题功能的群组中无法正常使用的问题。群组设置默认话题后即可正常使用入群验证和入群欢迎。

## 2022 年 11 月 6 日 23:39
- 由于入群欢迎在启用了话题功能的群组无法正常工作，我们暂时关闭了上述群组的入群欢迎功能。（入群欢迎功能修复后，我们将恢复原先的入群欢迎设置。）

## 2022 年 11 月 6 日 23:06
- 由于入群验证在启用了话题功能的群组无法正常工作，我们暂时关闭了上述群组的入群验证功能。（nmBot /config 菜单中显示的可能并非实际入群验证状态。待入群验证功能修复后，我们将恢复原先的入群验证设置。）

## 2022 年 11 月 1 日 22:52
- 支持在群组中使用 /cw 指令设置频道白名单。白名单频道身份发送的消息将不会被 nmBot 自动删除。
- 在 nmBot /config 菜单打开“自动删除消息”中“频道身份消息”设置项时，新增了关于使用 /cw 指令设置频道白名单的提示。
- 为避免误触，调整了使用 /wc 指令清空入群欢迎的操作方式为输入 /wc -，并在指令返回中添加了相应提示。
- /id 消息发送者启用了“频道透视眼”时，显示内容的表现现在与“频道透视眼”功能上线前相同。
- 修复了在群组中使用 /wc 指令设置入群欢迎时将自带 @nmnmfunbot 部分视作欢迎内容的问题。
- 修复了部分情况下 /id 功能无法正常返回消息的问题。

## 2022 年 10 月 30 日 19:42
- “频道透视眼”现作为一项正式功能推出。
- 修复了匿名群组身份可以使用“频道透视眼”并可能导致报错的问题。

## 2022 年 10 月 29 日 15:30
- “锁定模式 (Beta)”新增“nmBot 模式”：通过 nmBot 自动删除禁止发送的消息。nmBot 面板已为此模式优化了显示，新增和修改了设置项和说明文本。
- 设置了 nmBot 模式的锁定模式设置时，使用 /config 菜单调整“自动删除消息”设置时，将显示提示文本。
- 在 nmBot 面板“自动删除消息”设置页中新增关于使用锁定模式的警告。
- 单个群组可设置的“锁定模式 (Beta)”数量由 10 个调整为 15 个。
- 修复了 nmBot 面板“自动删除消息”设置页中，“通过 bot 发送的消息”项开关状态显示异常的问题。

## 2022 年 10 月 29 日 10:55
- 在“锁定模式”设置中，增加有关 Telegram API 限制的说明。

## 2022 年 10 月 27 日 22:50
- 为“锁定模式”列表底端增加了功能说明卡片。

## 2022 年 10 月 27 日 21:52
- 修复了 nmBot 面板的警告消息图标显示可能过低的问题。
- 修复了 nmBot 面板“锁定模式”编辑页面中，“发送消息”文本框可以异常调整宽度和高度的问题。

## 2022 年 10 月 27 日 17:35
- 为频道透视眼、会员身份鉴定、关键词回复设置、管理功能的部分返回消息添加了删除按钮。
- 在部分提示文本中新增了使用“频道透视眼”功能的提示。

## 2022 年 10 月 27 日 15:35
- 修复了 nmBot 面板的警告消息在 webKit 内核上显示过高的问题。（当前警告图标显示仍有问题，我们将尝试在后续更新中修复。）

## 2022 年 10 月 27 日 10:15
- 修复在 nmBot 面板为群组首次添加关键词回复时，若消息中包含特定文本，有概率出现添加失败的问题。

## 2022 年 10 月 27 日 02:15
- 新增“锁定模式 (Beta)”功能定时自动控制群组权限。
- 优化了“频道透视眼 (Beta)”功能的部分提示文本。
- 优化了关键词回复触发“忽略群组管理员”功能时的提示文本。

## 2022 年 10 月 25 日 17:40
- 新增“频道透视眼 (Beta)”功能。
- 在部分提示文本中新增了使用“频道透视眼”功能的提示。

## 2022 年 10 月 24 日 23:00
- 为优化性能，调整了 nmBot 获取群组关键词回复的频率。
    * 通过 nmBot 面板修改关键词回复时，所作更改将在短时间内应用。
- 通过 nmBot 面板修改群组配置和关键词回复时，将显示所作更改将在短时间内应用的提示。

## 2022 年 10 月 15 日 14:20
- 修复了极少数情况下 nmBot 关键词回复功能识别目标群组错误的问题。

## 2022 年 10 月 15 日 13:14
- 修复在极少数群组中找不到群组配置时，无法自动创建的问题。

## 2022 年 10 月 14 日 20:40
- /admin 呼叫消息新增关闭呼叫群组管理员功能按钮。
- 为优化性能，调整了 nmBot 获取群组配置的频率。
    * 通过 nmBot 面板修改群组配置时，所作更改将在短时间内应用。
- 修复极少数情况下 /ban 指令导致报错的问题。
- 删除了 nmBot 面板中过时的帮助文档。

## 2022 年 10 月 13 日 01:14
- 优化了 nmBot /pm 指令对频道的称呼。
- 修正了部分情况下，nmBot /pm 指令返回消息中，空格位置和数量可能错误的问题。

## 2022 年 10 月 13 日 00:36
- 由于 Telegram 功能变更，调整了 nmBot /pm 功能的部分表现。
    - nmBot 将除群组关联频道外的其他频道身份认定为 Telegram 会员。
    - nmBot 无法确认群组关联频道的频道主是否为 Telegram 会员，并将此结果及相关帮助信息体现在返回消息中。
    - nmBot /pm 功能返回消息中，频道身份消息将带频道表情符号前缀。该前缀将在后续更新中应用到其他功能。
    - 调整了 /pm 指令对匿名管理员的返回消息内容。

## 2022 年 10 月 12 日 23:15
- 优化了 nmartChat API 的返回内容过滤机制。
- 修复了无法在 nmBot /config 菜单面板设置“解除频道置顶”功能的问题。
- 修复了 nmBot 部分行内按钮回调事件的弹窗未正常显示的问题。

## 2022 年 10 月 12 日 22:51
- 修复了 nmBot 验证频道设置无法完成的问题。

## 2022 年 10 月 8 日 22:55
- 在 nmBot /help 返回消息中，添加了查看 Web 版帮助文档（Beta）的提示。
- 在 nmBot 面板中，添加了查看 Web 版帮助文档（Beta）的人口。
- 查看“没有找到您管理的群组？”帮助时，内容已更改为 Web 版帮助文档（Beta）中的帮助。
- 新成员触发“自动拒绝非会员入群”和“禁止新成员加入”限制时，将收到 nmBot 发送的私密消息提示（若可以）。
- 优化了“欢乐复读”功能的表现：
    - 若两位群成员复读 nmBot 通过 nmartChat 发送的消息，则 nmBot 不再复读自己的消息。
    - 若群成员发送的消息与上一条“欢乐复读”存储的消息内容相同，但是回复给上一条“欢乐复读”存储的消息时，为避免影响这两位成员，nmBot 不再复读该消息。
- 优化了 nmBot 面板群组关键词回复设置页面部分元素的光标表现。
- 使用指令管理关键词回复时，调整了使用 nmBot 面板设置关键词回复的提示文本及其发送概率。
- 优化了 nmBot 面板群组关键词回复设置页面的部分文本内容，并修正了一处文本错误。
- 修复了在特定情况下，用户可以通过特定方法绕过“自动拒绝非会员入群”和“禁止新成员加入”设置的问题。
- 修复了设置入群验证频道失败时，nmBot 有一定概率不发送提示消息的问题。
- 修正了 nmBot 提示群组禁止新成员加入时，消息文本格式错误的问题。
- 优化了 nmBot 管理员处理部分 nmBot 错误的流程。

## 2022 年 9 月 22 日 11:35
- nmBot 发送的入群欢迎消息将在一段时间后自动删除。

## 2022 年 9 月 21 日 11:14
- 修复了未被记录存在管理群组的用户登录 nmBot 面板时页面初始化失败的问题。

## 2022 年 9 月 19 日 17:30
- 支持在 /ban 和 /block 时添加参数 d 来删除触发消息。
- 更新了 /ban 和 /block 相关返回消息部分行内按钮的文本。
- 删除了 /ban 和 /block 相关返回消息中部分错误提供的行内按钮。
- 添加了 /ban, /block 和 /warn 相关返回消息中的部分行内按钮。
- 修复了特定情况下导致 /ban 和 /block 指令操作失败的问题。
- 修复了所在群组转换为超级群组后，nmBot 无法正常工作的问题。nmBot 将自动完成配置和关键词回复迁移。
- 修复了特定情况下 nmBot 对被移出群的判定错误。

## 2022 年 9 月 18 日 15:00
- 修复了授予 nmBot 管理员权限，并启用 nmBot 群组管理功能后取消 nmBot 管理员权限后，nmBot 不响应群组消息的问题。

## 2022 年 9 月 16 日 22:23
- 优化了 nmBot 入群验证按钮超时的提示文本。
- 修复了“欢乐复读”功能导致群组 nmartChat 贴纸等部分功能不可用的问题。

## 2022 年 9 月 3 日 16:08
- 修复了在 nmBot 面板清空入群欢迎后，nmBot 错误发送 [object Object] 的问题。

## 2022 年 9 月 3 日 15:53
- 修复了 /wc 指令无法使用的问题。

## 2022 年 9 月 2 日 15:10
- 群组封禁 nmBot 时，nmBot 将尝试向封禁者发送调查消息。
- 修复了可以通过 nmBot 获取消息 JSON 参数保存受保护消息内容的问题。通过 /id 获取开启内容保护的群组的消息或消息的 JSON 参数时，回复消息将开启内容保护。
- 删除了 /id 返回消息中的 nmBot 内部参数。

## 2022 年 8 月 30 日 12:00
- 除数据库错误外的其它错误，60 秒内仅向同一对话报告一次。
- 更新了 nmBot 错误报告的文本提示，并添加了 nmTeam 支持选项。
- 新增了 banme 和 nmartChat userbot 回应功能的部分提示文本。
- 修复了无封禁用户权限的群组管理员可以使用 /ban 和 /block 指令操作用户的问题。
- 修复了使用 PagerMaid-Pyro 的用户发送 ",re" 指令复读 nmBot 消息时触发 nmartChat 的问题。

## 2022 年 8 月 28 日 17:35
- 入群验证失败或超时的提示遵循入群成员名称屏蔽设置。
- 优化了 nmBot 在特定情况下的稳定性。

## 2022 年 8 月 26 日 11:23
- 修复了特定情况下“同频气氛组”功能失效的问题。
- 修正了部分内置冷却时间设置错误的问题。

## 2022 年 8 月 24 日 18:30
- 新增自动删除群组内贴纸、图片、视频、视频消息、语音、GIF、来自机器人的消息功能。
- 在 nmBot /config 菜单和 nmBot 面板菜单新增“自动删除消息”子设置集。本次更新中新增的自动删除消息功能和“删除频道消息”“删除入群提示”“删除会员贴纸”功能将被归入该设置集。此外，在 nmBot /config 菜单更改该设置集的设置后，不会自动返回初始页面。
- 在 nmBot 面板关键词回复设置页面，增加了在回复内容中使用 {username} 的相关提示。
- 关键词回复功能不再识别并回复群组绑定频道发送的消息。
- 优化了入群验证备用消息发送方案 1 的表现。
- 入群验证第 1 次发送失败时，nmBot 不再告警。
- nmBot 接收 429 错误后不再报告错误或告警。相应错误仍将在日志中记录。
- 修复了 nmBot 在开启删除频道消息的群组删除频道消息后，消息内容仍有可能触发其它操作的问题。
- 修复了用户验证超时后提示消息没有“关闭”按钮的问题。
- 修复了在 nmBot 面板，当授予 nmBot 基本管理权限，未启用 nmBot 群组管理功能时“nmBot 管理功能”“允许呼叫管理员”两个按钮的间距异常缺失的问题。
- 修复了在 nmBot 面板，当授予 nmBot 基本管理权限，未启用 nmBot 群组管理功能时，隐藏的按钮仍然可以通过键盘导航聚焦的问题。
- 进行了一些 nmBot 内部优化。

## 2022 年 8 月 22 日 21:23
- 设置关键词回复时，支持匹配发送消息的用户或频道。
- 修复了“呼叫群组管理员”功能会提及群组内匿名管理员的问题。
- 新增“呼叫群组管理员”功能没有找到群组管理员时的提示文本。
- 更新了 nmBot 帮助文档。
- 更新了 nmBot 日志的相关功能。

## 2022 年 8 月 19 日 19:11
- 修复了 nmBot 面板中“🔒 授予管理员权限来管理更多功能”“允许呼叫管理员”两个按钮的间距异常缺失的问题。

## 2022 年 8 月 16 日 12:08
- 修复了特定情况下入群验证消息发送出错时，未能捕捉错误并执行备用操作的问题。
- 修复了 nmBot 部分操作的时间限制可能没有区分不同的频道身份的问题。
- 修复了 nmBot 名片审核管理员无法通过用户设定的名片的问题。我们将在 1 小时内为遇到问题的用户完成审核。

## 2022 年 8 月 16 日 00:55
- 优化了 nmBot 入群验证消息发送成功的判定逻辑。

## 2022 年 8 月 15 日 22:21
- nmBot 帮助文档新增“支持”帮助项。
- 优化了 nmBot 在入群验证消息发送失败时的备份措施。
- 修复了启用“频道验证”和“删除入群消息”时，入群验证中的名称未被部分屏蔽的问题。

## 2022 年 8 月 15 日 14:42
- 针对 nmBot 有极低概率对消息执行一些错误操作的问题进行了内部优化，对造成影响较大的问题进行了针对性修复。由于此问题涉及 nmBot 底层逻辑，我们将在线上持续验证此次修复的有效性，并将在充分测试后，于后续更新中继续进行相应修复，我们对此问题的出现深表歉意。

## 2022 年 8 月 15 日 00:08
- 在未开启 nmBot 管理功能的群组的 /config 菜单中新增一个引导。
- 在 /id 的返回消息中新增“关闭”按钮，消息发送者和群组管理员可以点击该按钮来关闭。
- 在群组内发送 /id 时，若提供了参数 p 或 pm，nmBot 会将相关信息发送到私信中。（要使用该功能，请首先与 nmBot 主动私信。）
- nmartChat 不会回复由部分 userbot 和相关机器人生成的语录贴纸。
- 修复了 /ban 和 /block 功能在特定情况下遇到错误时，可能重复发送错误消息和报错的问题。
- 修复了未授予 nmBot 管理权限的群组的管理员可以在 /config 菜单中点击按钮切换 nmBot 群组管理功能开关的问题。
- 修复了未授予 nmBot 管理权限的群组的 /config 菜单在数据库中有相应记录时，显示群组管理功能为打开的问题。
- 修复了 nmBot /getlimit 指令返回的 Telegram 会员冷却时间错误的问题。
- 修复了 nmBot 管理员广播消息的内部功能无法使用的问题。

## 2022 年 8 月 14 日 20:55
- 修复了使用 nmBot 指令封禁频道后，无法通过行内按钮解封的问题。

## 2022 年 8 月 14 日 20:28
- 修复了 nmBot 会回复部分频道身份发送的非指令消息的问题。

## 2022 年 8 月 14 日 14:23
- 修复了即使授予了 nmBot 置顶消息权限，/config 菜单中“取消频道置顶”设置仍然显示灰色且无法点击的问题。

## 2022 年 8 月 14 日 14:17
- 即使群组未授予 nmBot 管理员权限，也可以在 /config 菜单和 nmBot 面板中更改 nmBot 群组娱乐功能和包括“呼叫群组管理员”在内的部分 nmBot 管理功能。
- 优化了 /config 菜单和 nmBot 面板中因权限不足无法设置 banme 功能和自动取消置顶功能时的提示。
- nmBot /config 菜单新增“关闭”按钮。
- 修改 nmBot 对频道和群组身份的部分描述。
- 支持匿名管理员查看和编辑关键词回复。
- 优化了群成员以频道和（或）群组身份执行 /regadmin, /config 操作、nmBot 群组管理操作、查看和编辑关键词回复时的提示。
- 修复了以频道身份触发部分 nmBot 群组管理操作时，nmBot 不响应的问题。
- 修正了 nmBot 部分权限提示的内容错误。
- 批量优化了部分 nmBot 内部功能实现。
  
## 2022 年 8 月 13 日 18:14
- 全新设计并实现了 /ban, /unban, /block, /unblock 指令。
    - 支持使用 username 来识别频道。nmBot 会自动识别 username，您不需要添加 @ 符号。由于 Telegram API 限制，暂不能通过这种方式指示用户。
    - 支持回复 nmBot 的操作反馈来进行进一步操作。
    - 新的 /ban 和 /block 将自动识别频道身份，因此删除了 c 参数。
    - 修复了 /ban, /block 指令不识别自定义时间的问题。
    - 目前移除了 d 和 da 参数。我们将考虑在后续版本中再次添加这些参数。
    - 我们将在后续版本中为 /warn, /kick 等指令完成类似的更改。
- 为进一步排查已知问题，增加了一些日志记录点。
- 更新了 nmBot 帮助文档。

## 2022 年 8 月 12 日 22:45
- nmBot 面板文档将自动根据内容匹配页面标题。

## 2022 年 8 月 12 日 17:23
- 调整了“欢乐复读”的功能类别。调整后，“欢乐复读”将位于 nmBot 群组娱乐功能设置中，且不再与 nmBot 管理功能绑定。
- 在 /config 菜单和 nmBot 面板中，增加了对部分 nmBot 群组娱乐功能所需 nmBot 管理员权限的提示。
- 为 nmBot /about 指令内容添加了文本描述。
- 删除了 nmBot 和 nmBot 帮助文档中对 nmBot 管理功能测试的相关内容。
- 优化了 nmBot 代码的内部逻辑。
- 调整了 nmBot 记录日志时间的方法。
- 调整了 nmBot 日志的分片配置。

## 2022 年 8 月 9 日 21:21
- 修正了 banme 娱乐功能的一处文本错误。

## 2022 年 8 月 9 日 21:15
- 修复了冷却时间限制识别对象错误的问题。

## 2022 年 8 月 9 日 21:05
- nmBot 新增“群组娱乐功能”设置集。在 nmBot /config 菜单和 nmBot 面板可查看和设置群组娱乐功能。
- 新增 nmBot 群组娱乐功能 banme。
- nmBot 关键词回复支持使用正则表达式判断消息的转发来源。
- nmBot 关键词回复支持拷贝 nmBot 可访问的已发送消息，来发送图片、文件等种类的消息。
- nmBot 关键词回复新增在 3 秒、5 秒、90 秒、180 秒、600 秒后删除回复消息的选项。
- 支持在私信中使用 /me 指令查看名片。
- 更新了 nmBot /config 菜单中群组管理功能开关按钮的文本。
- nmBot 系统内部时间限制将不在用户 /getlimit 指令中显示。
- 修复了未启用 nmBot 管理功能的群组无法使用 nmartChat 的问题。
- 修复了如果在创建群组时邀请 nmBot，则会出现数据库未初始化，并导致部分操作无法使用的问题。

## 2022 年 8 月 7 日 00:10
- 限制 nmBot 内建数据库告警在短时间内重复向用户和群组发送告警信息。
- 优化了 nmBot 记录数据库告警的机制。

## 2022 年 8 月 3 日 20:14
- 修复了 nmBot 频道验证允许他人点击验证按钮验证的漏洞。
- 优化了 nmBot 处理发送欢迎消息时问题的能力。

## 2022 年 8 月 3 日 15:05
- 支持设定拒绝新成员加入群组。
- 为部分 nmBot 操作新增关闭按钮。
- 调整了部分 nmBot 操作的冷却时间。
- 修复了频道身份可使用 nmBot 名片指令的问题。
- 优化了 nmBot 名片的相关文本提示。

## 2022 年 8 月 1 日 21:45
- nmBot 管理功能新增“删除入群系统消息”功能，可在 /config 菜单和 nmBot 面板中设置。设置后，若同时启用了入群验证，相应消息中的用户昵称将被部分屏蔽。
- nmBot /config 菜单和 nmBot 面板新增“允许呼叫管理员”设置项。关闭后，将不能通过 /admin, @admin 等方式呼叫群组管理员。该选项对启用了 nmBot 管理功能的群组开放设置，且本次更新后默认将打开。
- 为避免 nmBot 相关功能影响群组内正常聊天、对群组管理员和其它成员造成干扰，我们为部分功能增加了冷却时间限制。用户可以在与 nmBot 的私信中发送 /getlimit 来了解最新的限制列表。我们会不断调整相关冷却时间，为大家提供更好的使用体验。
- 为部分 nmBot 操作新增关闭按钮。
- 为部分行内按钮新增 Emoji。
- 更新了 nmBot 帮助文档。
- 修复了关闭 nmBot 管理功能后，部分 nmBot 管理功能仍延续 nmBot 管理功能开启时的设置的问题。

## 2022 年 7 月 30 日 17:17
- 修复了 nmBot 面板管理页面群组列表在群组名称较长时，该群组名称显示居中的问题。
- 修复了某些关键词回复可能错误在 nmBot 面板中显示未定义的自动删除时间的问题。
- 优化了 nmBot 面板 Notice 页面的 HTML 标题。

## 2022 年 7 月 30 日 12:01
- 修复了“欢乐复读”功能可能未正确识别部分消息的问题。

## 2022 年 7 月 29 日 23:58
- 在 nmBot 面板设置关键词回复时，允许将回复内容留空。
  补充说明：回复内容为空时，显示关闭按钮、自动删除回复消息等部分设置将无效。
- 调低了设置 nmBot 管理功能所需要的管理员权限。调整后，管理员需要拥有封禁成员权限，方可设置 nmBot 管理功能。
- 在 nmBot 面板查看关键词回复列表时，支持显示设置的高级操作。
- nmBot 关键词回复功能支持设置关闭按钮允许操作的用户范围，并新增了相应的提示。
- 在 nmBot 面板编辑关键词回复时，支持使用快捷键 Ctrl + S 完成保存。
- 在 nmBot 面板保存关键词回复后，页面内容更新完成前点击按钮时，将显示相应等待刷新提示。
- 修复了特定情况下，在 nmBot 面板设置关键词回复时，“删除源消息”和“显示关闭按钮”选项可能出现设置失效或冲突的问题。
- 修复了在 nmBot 面板设置关键词回复时，可以同时打开多个编辑窗口的问题。
- 修复了“欢乐复读”功能在部分情况下未正确识别转发自设置了某些隐私权限的用户和频道身份发送的消息的问题。
- 修复了 /panel 指令发送的私信格式化错误的问题。
- 修复了 nmBot 面板 oAuth 验证页面文本可被选择的问题。

## 2022 年 7 月 24 日 17:20
- 修复了使用 nmBot 面板管理超过一定数量的群组时，nmBot 面板可能无法初始化群组数据的问题。
* 由于此次更新涉及 nmBot 面板底层，若在使用中遇到问题，请尝试清空您的 webView 缓存。

## 2022 年 7 月 24 日 16:56
- 修复了 /mr 指令发送的私信格式化错误的问题。
  
## 2022 年 7 月 24 日 16:24
- nmBot /admin 指令也响应含有 @admin 和 @管理员 的消息。
- 优化了 nmBot /admin 指令对频道身份的相关识别。
- 优化了使用频道身份发送 /panel 指令时的相关提示。
- 更新了 Telegram 输入框中提供的 nmBot 功能。

## 2022 年 7 月 24 日 13:28
- nmBot 管理员内部管理指令更新。

## 2022 年 7 月 24 日 11:47
- 修正了 nmBot 处理过期入群验证时的错误处理逻辑问题。

## 2022 年 7 月 20 日 16:00
- 调整 nmBot 入群验证的允许验证时间至 150 秒。
- /panel 指令和 /mr 指令新增通过浏览器打开 nmBot 面板的相关提示。
- 更新了 /start 菜单的内容。
- 新增一个辅助变量，用于在处理过期入群验证时封禁用户前，二次验证用户是否实际通过了入群验证，以避免由于 nmBot 错误未正确记录验证状态导致 nmBot 错误封禁用户。
- 优化了 nmBot 入群验证的过期判定。
- 优化了 nmBot “欢乐复读”功能对贴纸的相关判定。
- 修复了极少数情况下，nmBot 入群验证成功后发送欢迎消息失败，并导致错误封禁已通过验证的用户的问题。
- 修复了 nmBot 部分消息内容关键字部分缺少空格的问题。
- 修复了 nmBot 帮助文档“使用 nmBot 面板”项目无法打开的问题。
- 修复了 nmBot 入群验证错误时记录日志时报错的问题。
- 优化 nmBot 日志的记录项目和最大大小。
- 更新了 nmBot 帮助文档。

## 2022 年 7 月 19 日 13:35
- 修复了 nmBot 欢乐复读功能可能未正确复读贴纸的问题。

## 2022 年 7 月 18 日 20:03
- 修复了 nmBot 欢乐复读功能失效的问题。

## 2022 年 7 月 17 日 21:22
- 支持通过 nmBot 面板设置入群欢迎。

## 2022 年 7 月 17 日 20:26
- 修复了使用 nmBot 的 /pm 指令时，若没有回复消息，将报错并无法使用的问题。

## 2022 年 7 月 17 日 18:53
- nmBot 团队分析后台日志后已基本定位问题系默认自动过期有低概率出现问题。为避免问题影响用户使用，已暂时关闭该逻辑，并重新开启定时确认过期入群验证逻辑作为备份。用户可能发现入群验证的提供时间延迟最多 30 秒。
- 修复了一处 nmBot 日志记录逻辑错误的问题。

## 2022 年 7 月 17 日 12:15
- 修复了 nmBot 确认过期入群验证时出现错误并重启的问题。
  
## 2022 年 7 月 17 日 12:05
- 为方便后续排查和解决问题，nmBot 测试为部分操作记录日志。记录信息不包含用户发送的任何消息内容。

## 2022 年 7 月 17 日 00:00
- nmBot 团队监测到 nmBot 入群验证的时间计算可能存在错误，并导致验证时间大幅缩短的问题。现临时关闭了定期确认过期验证的相关功能，nmBot 团队将监测此更改带来的影响，并将在后续通过多种方式持续监测和修复相关问题。  
对于此问题对群组管理造成的不便，nmBot 团队深感抱歉。

## 2022 年 7 月 15 日 21:12
- 修复了管理员关闭其他人打开的 nmBot 帮助文档时错误显示错误提示的问题。

## 2022 年 7 月 14 日 16:18
- 修复了 nmartChat 在群组错误回复非回复 nmBot 的 userbot 消息的问题。

## 2022 年 7 月 13 日 23:40
- 修复了在启用了“删除频道消息”功能的群组使用频道身份发言会意外触发“欢乐复读”功能，并可能导致骚扰的问题。修复后频道身份发言既不会触发，也不会影响“欢乐复读”功能。
- nmBot 帮助文档中新增“欢乐复读”的相关帮助。
- nmBot 帮助文档部分条目中新增指向 nmBot 面板的引导。
- 修复了 nmartChat 不回复贴纸消息的问题。
- 修复了群组入群验证设置错误时，nmBot 进程意外中止的问题，并优化了相应的提示。

## 2022 年 7 月 13 日 22:33
- 新增群组功能“欢乐复读”。  
启用 nmBot 管理功能后，可以在 /config 菜单和 nmBot 面板中启用“欢乐复读”功能。  
“欢乐复读”功能将在群组中连续出现两条相同的文本、贴纸和部分其它类型消息时，复制该消息内容。  
    - 若第二条消息带有转发来源，nmBot 将复读并转发第二条消息的消息来源。
    - 若第二条消息不带有转发来源，且两条消息中有至少一条回复给某条消息，nmBot 将复读并回复给就近带回复消息的消息的回复消息。
    - 若消息内容疑似 Telegram 机器人指令、userbot 指令、与 nmBot 互动的消息，或触发了群组中设置的关键词回复，nmBot 将不会复读。
- 对 nmBot 的消息使用部分 userbot 指令时，nmBot 将可能随机作出不同反应。（在群组中使用时，该群组需要开启 nmartChat。）  
注：该反应内容仅供娱乐，不代表 nmTeam 对任何 userbot 及其制作者的态度。
- 为方便用户使用 userbot 转发 nmBot 的消息，nmBot 将屏蔽部分 userbot 的相关转发指令。
- 解决了 /pm 指令识别频道身份消息的问题。
- 面向 nmBot 管理员的内部优化。

## 2022 年 7 月 12 日 23:53
- 修复 nmBot 面板中管理功能的部分按钮文本错误的问题。

## 2022 年 7 月 12 日 21:57
- nmartChat 将在请求数据中忽略网页链接。

## 2022 年 7 月 12 日 17:05
- nmBot 内部架构更新带来更好的性能和稳定性。
    - 注：由于本次更新涉及较多的 nmBot 内部优化，若在使用中遇到任何问题，还请及时向 nmBot 团队报告。 
- 修正了 nmBot 部分错误提示错误的问题。
- 修正了 nmBot 帮助文档中的一处错误。

## 2022 年 7 月 9 日 12:24
- 优化了 nmBot 处理过期入群验证的相关逻辑。
- 修复了 nmBot 处理过期入群验证失败后，不会执行下一个的问题。

## 2022 年 7 月 8 日 00:13
- nmBot 关键词回复支持设置自动删除回复消息、显示“关闭”按钮和回复消息的格式化方案。
- 若群主管理员一分钟内第二次触发设置了“忽略群组管理员”的关键词回复，nmBot 将提醒群组管理员此关键词回复已忽略群组管理员。
- 修复了 nmBot 面板骨架加载页面中的按钮可供键盘导航的问题。
- 修复了在 nmBot 面板从“鲁小迅”导入关键词回复时未正确转义 $username 的问题。

## 2022 年 7 月 7 日 22:10
- 修复了 nmBot 面板识别群主无法修改 nmBot 管理功能配置的问题。

## 2022 年 7 月 7 日 20:30
- 在 nmBot 面板关键词回复添加和编辑关键词回复时，仅在修改内容后退出时显示确认操作对话框。
- 修复了没有更改群组信息权限的管理员无法在 nmBot 面板查看和编辑 nmBot 关键词回复的问题。

## 2022 年 7 月 7 日 20:10
- nmBot 关键词回复按钮中支持添加 tg 协议链接。

## 2022 年 7 月 6 日 16:45
- nmBot 面板现已作为 nmBot 的正式功能推出。
- nmBot 出现错误后将发送警告消息，必要时将尝试重新启动。
- 优化了 nmBot 的错误处理逻辑，提高了 nmBot 的稳定性。
- 修复 nmBot 面板部分操作权限配置错误的问题。
- 调整 nmBot 判断消息过期的时间为 45 秒。

## 2022 年 7 月 5 日 11:11
- 修复了 nmBot 入群欢迎出现错误的问题。
- 提升了 nmBot 的流畅度。
- 优化了 nmBot 的稳定性。

## 2022 年 7 月 4 日 15:40
- 修复了管理页面和关键词回复页面的搜索框无法正常工作的问题。
- 修复了在 nmBot 面板添加和编辑关键词回复时，若回复内容中含换行时保存不起效果的问题。

## 2022 年 7 月 3 日 15:00
- 支持在 /warn 命令中传入 d 参数来删除源消息。
- 更新了 nmBot 帮助文档。

## 2022 年 7 月 3 日 14:30
- 修复了 /warn 命令无法封禁频道的问题。

## 2022 年 7 月 3 日 14:22
- 支持使用 /warn 命令警告用户。
- 支持使用 /kick 命令踢出用户。
- 优化了 nmBot 更新时对期间消息的处理方法。
    - nmBot 后续重启更新前数秒，nmBot 管理员将暂停 nmBot 的消息接收功能。期间 nmBot 不再接受新的消息。
    - nmBot 重启更新成功后，自动接收并处理之前堆积的消息。
    - 由于提供了数秒的缓冲时间，nmBot 在重启更新前可完成处理绝大多数已收到消息；对于特殊类型操作，nmBot 有相应机制保证在重启更新后可以接续处理未完成操作。
    - 用户将在 nmBot 重启更新时感知到消息回复延迟高达数秒，但已经执行的操作不会被中途暂停，从而导致错误结果（例如被 /kick 的用户等待 nmBot 自动解除封禁时，nmBot 更新导致他未被解封）。
    - 此更新将在下一次 nmBot 更新中生效。

## 2022 年 7 月 3 日 06:00
- 优化了加载数据时 nmBot 面板 Telegram 登录按钮的提示。
- 解决了 nmBot 面板顶栏的适配问题，并优化了显示效果。

## 2022 年 7 月 3 日 05:52
- nmBot 面板在双屏模式下显示顶栏。

## 2022 年 7 月 3 日 05:45
- 优化了 nmBot 面板在双屏模式下的显示效果。

## 2022 年 7 月 3 日 05:35
- 优化了浏览器对 nmBot 面板的名称、语言和图标显示。

## 2022 年 7 月 3 日 05:16
- 支持在浏览器中登录 nmBot 面板。
- 优化了 nmBot 面板识别和应用浏览器颜色主题的能力，并解决了相应的已知问题。

## 2022 年 6 月 30 日 13:15
- 修复了 nmBot 面板头像 API 在无法获取用户头像时可能返回错误信息并暴露机器人密钥的漏洞，并更换了新的密钥。暂未监测到此漏洞对机器人运行产生任何影响。同时为避免类似问题出现，nmBot 面板线上版本 API 禁用了报错。

## 2022 年 6 月 29 日 22:50
- 支持从“鲁小迅”导入关键词回复。
- nmartChat 将 API 中的特定消息进行文本替换后回复。
- 添加了部分 nmBot 行内消息的说明。
- nmBot 超级回复对象中支持使用 {username} 代指用户名称。
- nmBot 超级回复对象支持设定禁言用户、删除源消息、忽略群组管理员。
- 修改了 /pm 指令发送消息的部分标点符号。
- 修正了 /pm 指令可以与机器人比较 Telegram 会员身份的问题。
- 修正了非群主管理员发送 /config 指令时，nmBot 回复两次不同提示信息的问题。
- 修正了自动通过审核的空名片内容仍将在审核队列中出现的问题。
- 修复了一个影响名片审核的安全性问题。
- 修正了 nmBot 修改名片 API 错误返回 Debug 数据的问题。

## 2022 年 6 月 29 日 01:50
- 在群组中使用 /pm 指令确认自己与他人的 Telegram 会员身份。
- 支持在 nmBot 面板设置自己的个人信息，并在群组中通过 /me 命令或行内消息发送。
- nmBot 现已响应 Telegram 行内消息。
- Telegram Web App JavaScript 加载失败时提醒用户。
- 更新了 nmBot 帮助文档。
- 修复了一个可被非法利用以改变当前群组的数据库群组 ID 和其它字段的漏洞。

## 2022 年 6 月 27 日 23:45
- 更正了 nmBot 帮助文档中的错别字。
- 
## 2022 年 6 月 27 日 23:00
- 修复了无法打开 /config 面板的问题。

## 2022 年 6 月 27 日 22:50
- nmBot 面板 \[Beta\] 全新上线，通过更轻松的方式管理群组，设置关键词回复。
- nmBot 将以顿号（、）开头的消息视作以斜杠（/）开头的 nmBot 指令。
- 更新了 nmBot 面板运行所需的指令集，包括 /panel，/mr，/regadmin。
- 使用 /config、/ar、/dr、/sr、/lr 时，nmBot 推荐用户使用 nmBot 面板完成操作。
- 更新了呈现 nmBot 更新日志的方式。
- nmartChat 贴纸回复可用于频道消息。
- 更新了 nmBot 帮助文档。
- 修复了群组首次创建 nmBot 关键词回复不生效的问题。
- 修复了 /admin 指令的定位消息功能在私密群组中无法正常工作的问题。

## 2022 年 6 月 21 日 20:38
- 修复了 nmBot 在管理功能开启，“删除会员贴纸”功能未开启时错误回复无管理员权限会员发送的会员贴纸的问题。

## 2022 年 6 月 21 日 00:45
- 屏蔽了 nmartChat API 中的部分第三方隐私信息。
- 关于 nmBot » 资讯与交流 中新增 nmBot 频道。
- 新增了 nmBot 在 Telegram 中显示的“它能做什么” GIF。
- 更新了 nmBot 在 Telegram 中显示的指令列表。
- /id 指令的返回 JSON 现将经过格式化。
- 修正了 /id 指令无法在 @ 消息中触发的问题。
- nmBot 因遇到问题而重新启动时将放弃处理 120 秒以前发送的消息。
- 经确认无误，回退了对 nmBot 自动确认过期入群申请的时间的更改。

## 2022 年 6 月 20 日 13:35
- 修复了开启仅允许 Telegram 会员加入群组设置时，nmBot 会踢出邀请的机器人的问题。

## 2022 年 6 月 20 日 13:28
- 支持仅允许 Telegram 会员加入群组。
- 修复了 nmBot 部分函数调用参数错误的问题。

## 2022 年 6 月 20 日 12:21
- 更新了 nmBot 帮助文档。

## 2022 年 6 月 20 日 12:12
- 支持设置自动通过 Telegram 会员入群。
- 支持自动删除会员专享贴纸。
- 在消息文本中体现 Telegram 会员身份。
- 修复了数据库中找不到群组时 nmBot 进程意外中止的问题，并优化了相关逻辑。
- 修复了 nmBot 不处理私信的问题。
- 调整了 nmBot 自动确认过期入群申请的时间，以缓解验证时间错误的问题。 
- 缓解了部分用户设置的账号名称可能无法被 nmBot 正确解析并可能造成安全性问题的问题。
- 修复了 nmBot 超级回复对象无法在 /lr 和 /sr 结果中正常显示的问题。
- 修复了使用 /sr 命令时 nmBot 崩溃的问题。

## 2022 年 6 月 14 日 18:45
- 新增对 nmBot 超级回复对象的支持。
- 支持使用频道验证。
- 新增入群欢迎功能。
- 优化了无更改群组信息权限的管理员调用 /config 时的提示。
- 更新了 nmBot 帮助文档。

## 2022 年 6 月 12 日 15:30
- nmartChat 将响应消息内容包含自身名称的消息。
- 修复了未启用 nmBot 管理功能的群组无法打开 nmBot 控制面板的问题。
- 修复了 nmBot 入群验证超时后，原入群验证操作消息不会更新为超时提示的问题。
- 优化了 nmBot 重启或更新后，未完成验证流程的入群验证不会超时的问题：nmBot 每隔 30s 查找并处理过期的入群验证。
- 更新了 nmBot 帮助文档。

## 2022 年 6 月 10 日 23:22
- 修复了在未启用管理功能的群组中收到频道身份消息时，nmBot 会执行部分操作两次的问题。
- 修复了 nmBack 功能出现卡死的问题。
- 修复了 nmBack 功能不识别负数参数的问题。

## 2022 年 6 月 10 日 22:32
- “关键词回复”不再需要启用 nmBot 管理功能。
- 修复了调用 nmBot 指令操作“关键词回复”时，仍会触发关键词回复的问题。

## 2022 年 6 月 10 日 20:32
- 修复了 nmartChat 错误转译消息内容中中文的问题。

## 2022 年 6 月 10 日 16:03
- 修复了 nmartChat 在消息内容中含部分字符时请求出错的问题。

## 2022 年 6 月 9 日 14:55
- nmBot 在收到私信和打开 nmartChat 功能的群组回复的贴纸消息时，将回复贴纸。  
具体回复逻辑如下：
    - nmBot 有 30% 概率回复同一张贴纸。
    - 若 nmBot 未回复同一张贴纸，则在设置了群组贴纸包的群组中有 50% 概率随机（无排除）抽取该贴纸包一张贴纸回复。
    - 若 nmBot 仍未回复贴纸，则将从收到贴纸的贴纸包中随机（无排除）选择一张贴纸回复。
- 修正了频道身份打开的 /help 菜单无法操作的问题：现在频道身份打开的菜单默认为人人可操作。
- 更新了 nmBot 帮助文档。

## 2022 年 6 月 9 日 23:38
- nmartChat 不再返回消息中的 {face} 部分。

## 2022 年 6 月 9 日 23:30
- 优化了 nmBot 对 nmartChat 聊天消息内容的识别。
    - 在私信中触发 nmartChat 时，不再删除消息中的 nm。
    - 在群组中回复 nmBot 消息时，不再删除消息中的 nm。
    - 若触发 nmartChat 的方式为 @nmnmBotbot，则不再删除消息中的 nm。
    - 若触发 nmartChat 的方式为句首的 nm 且 nm 后为英文字母和部分符号，则不再删除消息中的 nm。
    - 不再删除消息内非句首的 nm。

## 2022 年 6 月 9 日 22:58
- 修正群组首次设置关键词回复失败且无响应的问题。

## 2022 年 6 月 9 日 22:50
- 支持关键词回复功能。

## 2022 年 6 月 9 日 15:20
- 数据库修正：修正数据库默认设置新群组的群组管理功能为开的问题。

## 2022 年 6 月 9 日 00:18
- 允许通过 /help 参数 p 创建人人能操作的帮助文档。
- 群组内 /help 提示新增“群组管理员可以使用‘关闭’按钮快速删除此消息”和“可以通过 /help p 创建人人能操作的帮助文档”（若未传递此参数）提示。
- 修复了管理员通过关闭按钮关闭帮助文档时错误提示无权限操作他人打开的帮助文档的问题。 

## 2022 年 6 月 8 日 21:35
- 修正 nmBot 在收到频道和链接频道消息时，若不是群组管理员，可能错误回复消息的问题。

## 2022 年 6 月 8 日 19:18
- 在群组中查阅帮助文档时，建议用户在私信中查看。

## 2022 年 6 月 8 日 18:25
- 修正 nmBot 在接收入群消息时，若不是群组管理员，将错误发送提示消息的问题。

## 2022 年 6 月 8 日 18:23
- 修复 nmBot 聊天功能失效且可能导致进程意外退出的问题。
- 修复 nmBot 在接收入群消息时无法获取自身权限且可能导致进程意外退出的问题。

## 2022 年 6 月 8 日 17:12
- 修正用户名称出现错误空格的问题。
- 修复无法打开更新日志的问题。

## 2022 年 6 月 8 日 16:56
- 修复一个可能导致 nmBot 无管理员权限时在新成员入群时崩溃的问题。

## 2022 年 6 月 8 日 16:40
- nmBot 测试。
